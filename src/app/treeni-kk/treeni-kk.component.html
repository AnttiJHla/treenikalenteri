<div class="container">
  <!--h2>Kuukausinäkymä</h2-->
  <div>Viikkojen lukumäärä: {{viikkojenLkm}}</div>
  <button (click)="asetaTreeniviikot(4)"> 4 </button>
  <button (click)="asetaTreeniviikot(8)"> 8 </button>
  <button (click)="asetaTreeniviikot(12)"> 12 </button>
  <button (click)="asetaTreeniviikot(52)"> 52 </button>
  <div>Viikko Offset: {{viikkoOffset}}</div>
  <button (click)="asetaViikkoOffset(-4)"> -4 </button>
  <button (click)="asetaViikkoOffset(-1)"> -1 </button>
  <button (click)="asetaViikkoOffset( 0)">  0 </button>
  <button (click)="asetaViikkoOffset( 1)"> +1 </button>
  <button (click)="asetaViikkoOffset( 4)"> +4 </button>


  <div class="kuukausinakyma">
    <div class="vko-column">
      <div class="vko-header bg-primary">
        Vko
      </div>
      <div class="vko bg-primary" *ngFor="let viikkonumero of viikkonumerot"> 
        {{viikkonumero}} 
      </div>
    </div>

    <div class="treeni-kk">
      <div class="my-header bg-primary" *ngFor="let paiva of viikonpaivat"> 
        {{paiva}} 
      </div>
      <div *ngFor="let tp of treenipaivalista; let index = index">
          <div class="day-column"  [ngClass]="getTreenipaivaClass(tp)">            
            <div class="bg-info date">
              <a  *ngIf="tp.treenipaiva" routerLink="/treenipaivat/{{tp.treenipaiva?.id}}" routerLinkActive="active">
                {{tp.pvm}}
              </a>
              <a  *ngIf="!tp.treenipaiva" routerLink="/treenipaivat/new/{{tp.pvm}}" routerLinkActive="active">
                {{tp.pvm}}
              </a>
            </div>
            <div *ngIf="tp.treenipaiva">
              <div class="bg-success" *ngIf="tp.treenipaiva.kuntoindeksi">
                Kuntoindeksi: {{tp.treenipaiva.kuntoindeksi}}
              </div>
              <div *ngIf="tp.treenipaiva.paino">
                Paino: {{tp.treenipaiva.paino}} kg
              </div>
              <div *ngIf="tp.treenipaiva.huomiot">
                Huomiot: {{tp.treenipaiva.huomiot}}
              </div>
              <div *ngFor="let treeni of tp.treenipaiva.treenit">
                <div>
                  Laji: {{treeni.laji}} 
                </div>
                <div *ngIf="treeni.kesto">
                  Kesto: {{treeni.kesto}} min
                </div>
                <div *ngIf="treeni.kcal">
                  Kcal: {{treeni.kcal}} kcal
                </div>
                <div *ngIf="treeni.keskisyke">
                  Avg: {{treeni.keskisyke}}
                </div>
                <div *ngIf="treeni.maksimisyke">
                  Max: {{treeni.maksimisyke}}
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>